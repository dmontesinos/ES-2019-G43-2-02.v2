\section{Secuencias}\label{sec:uc0}


\subsection{Administrador}\label{sec:uc0}
\subsubsection{Borrar partida de un usuario}

Para borrar una partida, desde el administrador se llama a la función eliminarPartida() hasta Jugador, donde se verificará si existe la partida o no, en el caso que exista la partida, la función devuelve al sistema True y en caso contrario False.
\\
\\Una vez el sistema ha recibido la confirmación, si esta era False, envía un error hasta el administrador.
\begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Borrar_partida_de_usuario.png}
	\caption{Administrador: Borrar partida de un usuario}
\end{figure*}


\newpage
\subsubsection{Crear una cuenta}
  Para crear una cuenta, el administrador llama a la función CrearCuenta() a la Interfície del Menú del Usuario, el cual comprobará la disponibilidad, y el Sistema realiza una Consulta a la Entidad del Jugador para comprobar si el usuario ya existe o no. \\
  \\La confirmación que se envia al Sistema será True en el caso que se pueda crear la cuenta (el usuario no exista previamente) y False en el caso en el que el usuario ya esté registrado.\\
  \\Si el usuario puede crearse la cuenta, el administrador llama a la función datosRegistro() a la Interfície del Menú del Usuario, y este al Sistema. El Sistema realizará el Registro hasta la Entidad del Jugador.\\
  \\En el caso contrario (el administrador no puede crear la cuenta), una vez se realiza la confirmación hasta el Sistema, este envía un error hasta el Administrador, pasando por la Interfície del Menú del Usuario.
\begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Crear_una_cuenta.png}
	\caption{Administrador: Crear una cuenta}
\end{figure*}


\newpage
\subsubsection{Crear mapa}
En el caso de querer crear un mapa, el Administrador llama a la función crearMapa hasta la Interfície del Menú del Usuario y este hasta el Sistema. Del sistema llegamos al Mapa mediante la función AñadirSala() donde se añadirán la salas al mapa y retorna la confirmación hacia el Sistema. Si el mapa ya existe, desde el Sistema se envía un error hacia la Interfície del Menú del Usuario, y de este al Administrador.
\begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Crear_mapa.png}
	\caption{Administrador: Crear un mapa}
\end{figure*}


\newpage
\subsubsection{Eliminar cuenta de usuario}
  Para eliminar una cuenta de usuario, del Administrador llegamos al Sistema, mediante la función gestionarCuentas a través de la Interfície del Menú del Usuario. El sistema llama a la función eliminarCuenta() llegando al Jugador, donde de comprueba si la cuenta existe o no.\\
  \\A continuación, se retorna la confirmación hasta el Sistema. Si la cuenta no existe o no se tienen los permisos, se devuelve un error hacia el Administrador a través de la Interfície del Menú del Usuario.
  \begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Eliminar_cuenta_de_usuario.png}
	\caption{Administrador: Eliminar una cuenta de usuario}
\end{figure*}
  

\newpage
\subsubsection{Modificar datos de la cuenta}
  Como vemos en el siguiente diagrama de Secuencia para modificar los datos de una cuenta, el Administrador a partir de la función modificarCuenta() llega al Jugador pasando por la Interfície del Menú del Usuario y el Sistema.\\
  \\A continuación, el Sistema recoge los datos recibidos para añadirlos o sustituirlos. Posteriormente, se envía la confirmación al Sistema. En el caso que no se tengan permisos para un apartado específico el Administrador recibirá un error enviado por el Sistema pasando por la Interfície del Menú del Usuario.
  
  \begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Modificar_datos_de_cuenta.png}
	\caption{Administrador: Modificar datos de la cuenta}
\end{figure*}
    

 \newpage 
\subsubsection{Modificar mapa}
  Para modificar un mapa, el Administrador llama a la función modificarMapa() pasando per la Interfície del Menú del Usuario hasta llegar al Sistema. Este llegará hasta Mapa a través de AñadirSala().\\
  \\Posteriormente, se comprueba si la sala ya estaba añadida previamente, y devuelve True o False mediante la confirmación hasta el Sistema. Si la sala no estaba añadida, el Sistema envía un error al Administrador pasando por la Interfície del Menú del Usuario.
  
    \begin{figure*} [ht]
	\centering
	\includegraphics[width=0.9\textwidth]{./imatges/administrador/Modificar_mapa.png}
	\caption{Administrador: Modificar mapa}
\end{figure*}
  
  
\newpage
\subsubsection{Modificar ranking}

  Para modificar un ranking, el Administrador llega a la entidad Ranking mediante la función modificarRanking() pasando por la Interfície del Menú del Usuario y el Sistema.\\
  \\A continuación se devuelve la confirmación hasta el Sistema. En el caso que sea posible la modificación, el Sistema enviará al Administrador los datos del Ranking, pasando por la Interfície del Menú del Usuario. Seguidamente, el Administrador llama modificarRanking() hacia la Interfície del Menú del Usuario y de esta hacia el Sistema. El Sistema insertará los Datos al Ranking.\\
  \\Si la confirmación es negativa (no se tienen los permisos necesarios o no existe el ranking), el Sistema envía un error hacia el Administrador pasando por la Interfície del Menú del Usuario.

 \begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.7\textwidth]{./imatges/administrador/Modificar_ranking.png}
 \caption{Administrador: Modificar ranking}
 \end{figure*}

    
\newpage
\subsubsection{Ver usuarios en línea}
	En el caso de querer ver los usuarios en línea el Administrador llega hasta los Jugadores mediante la función enLinea() pasando por la Interfície del Menú del Usuario y el Sistema.\\
	\\A continuación, se cuentan todos los jugadores en línea, y posteriormente, se envía la confirmación al Sistema.
	
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/administrador/Ver_usuarios_en_linea.png}
 \caption{Administrador: Ver jugadores en línea}
 \end{figure*}


\newpage
\subsection{Jugador}\label{sec:uc0}
\subsubsection{Consultar ranking}
  Si se quiere consultar el ranking el Jugador llama a consultarRanking() hasta la Interfície del Menú del Usuario y de esta al Sistema. El sistema recopila todos los datos del Ranking. El ranking, le devuelve todos los datos al sistema.
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Consultar_ranking.png}
 \caption{Jugador: Consultar ranking}
 \end{figure*}
    
  
\newpage
\subsubsection{Continuar partida}
  El diagrama de secuencia que vemos es necesario para continuar una partida. El Jugador llama a la función continuarPartida() hasta el Sistema, pasando por la Interfície del Menú del Usuario.\\
  \\ A continuación, se comprueba la disponibilidad. Para finalizar, la Partida le envia los datos de la Partida al Sistema.
  
  \begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Continuar_partida.png}
 \caption{Jugador: Continuar partida}
 \end{figure*}
    

\newpage 
\subsubsection{Crear una cuenta}
  Para crear una cuenta el Jugador accede a la Interfície del Menú del Usuario a partir de la función CrearCuenta(), esta comprueba la disponibilidad al Sistema y se realiza la consulta a la Entidad del Jugador, donde se verifica si la cuenta ya existe o no, y retorna True o False al Sistema a través de la confirmación.\\
  \\Si la cuenta no existe, el Jugador envía los datos del Registro hacia el Sistema a través de la Interfície del Menú del Usuario. Finalmente, el Sistema realiza el Registro.\\
  \\Si la cuenta ya existía previamente, el Sistema envía un error al Jugador pasando por la Interfície del Menú del Usuario.
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Crear_una_cuenta.png}
 \caption{Jugador: Crear una cuenta}
 \end{figure*} 
  
  
\newpage
\subsubsection{Eliminar partida}
  Cuando queremos eliminar una partida, el Jugador llama a la función eliminarPartida() hasta Partida, pasando por la Interfície del Menú del Usuario y el Sistema. \\
  \\A continuación, se elimina y se envía una confirmación al Sistema.\\
  \\Si la partida no existía, posteriormente de la confirmación, se envía un error hasta el Jugador a través de la Interfície del Menú del Usuario.
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Eliminar_partida.png}
 \caption{Jugador: Eliminar partida}
 \end{figure*} 
  
  
\newpage
\subsubsection{Empezar partida}
  A continuación se muestra el diagrama de secuencia para empezar una partida, en este caso, el Jugador accede a la función crearPartida() hasta llegar a Partida, pasando por la Interfície del Menú del Usuario y el Sistema.
  
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Empezar_partida.png}
 \caption{Jugador: Empezar partida}
 \end{figure*} 
  
  
\newpage
\subsubsection{Guardar partida}
  Para guardar una partida, el Jugador llama a la función guardarPartida() hasta el Sistema mediante la Interfície del Menú del Usuario, el Sistema guarda los datos a la Entidad Partida.

\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Guardar_partida.png}
 \caption{Jugador: Guardar partida}
 \end{figure*} 

  
\newpage
\subsubsection{Hacer login}
  Para hacer el login, el Jugador accede a la Interfície del Menú del Usuario a través de Login(), la Interfície del Menú del Usuario comprueba la disponibilidad.\\
  \\ A continuación, el Sistema realiza la consulta a la entidad del Jugador.\\
  \\ Para finalizar el login, se le envía la confirmación al Sistema.
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Hacer_login.png}
 \caption{Jugador: Hacer login}
 \end{figure*}  
  

\newpage
\subsubsection{Menú de movimientos}
  El diagrama de secuencia para ver el menú de movimientos como vemos es muy sencillo, simplemente el Jugador accede a la Interfície del Menú del Usuario mediante menuMovimientos().
  
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Menu_de_movimientos.png}
 \caption{Jugador: Menú de movimientos}
 \end{figure*}   
   
  
\newpage
\subsubsection{Modificar datos de la cuenta}
  Para modificar datos de la cuenta, el Jugador llama a la función modificarCuenta() hasta la entidad Jugador, pasando por la Interfície del Menú del Usuario y el sistema. El sistema reúne todos los datos recibidos y los añade o los sustituye. Posteriormente envía la confirmación al sistema. Si no se tienen los permisos requeridos, el sistema devuelve un error hasta el Jugador.
  
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Modificar_datos_de_cuenta.png}
 \caption{Jugador: Modificar datos de la cuenta}
 \end{figure*}
  
  
\newpage
\subsubsection{Salir del juego}
  Por último, para salir del juego, el Jugador accede al Sistema mediante la función SalirJuego() pasando por la Interfície del Menú del Usuario. El Sistema guarda los datos en la entidad del Jugador.\\
  \\ Finalmente, se se envía la confirmación al Sistema.
  
\begin{figure*}[ht]
 \centering
 	  \includegraphics[width=0.9\textwidth]{./imatges/jugador/Salir_del_juego.png}
 \caption{Jugador: Salir del juego}
 \end{figure*}
  
  
  
